(window["webpackJsonpvk-wheel"]=window["webpackJsonpvk-wheel"]||[]).push([[0],{178:function(e,t,a){e.exports=a(278)},257:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);a(179),a(205),a(207),a(208),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247);var n=a(0),r=a.n(n),l=a(65),o=a.n(l),i=a(24),c=a.n(i),s=a(66),u=a.n(s),d=a(96),h=a(19),m=a(99),f=a.n(m),g=a(98),v=a.n(g),b=(a(256),a(257),a(35)),p=a.n(b),w=a(40),E=a.n(w),O=a(97),A=a.n(O),S=["#F84","#8F4","#48F","#F8F"],j=["\u043e\u0434\u0438\u043d","\u0434\u0432\u0430","\u0442\u0440\u0438","\u0447\u0435\u0442\u044b\u0440\u0435","\u043f\u044f\u0442\u044c","\u0448\u0435\u0441\u0442\u044c","\u0441\u0435\u043c\u044c","\u0432\u043e\u0441\u0435\u043c\u044c","\u0434\u0435\u0432\u044f\u0442\u044c","\u0434\u0435\u0441\u044f\u0442\u044c"],F=[0,1,0,0,0,0,3,0,0,0],P=function(e){var t=e.id,a=Object(n.useRef)(null),l=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(n.useState)(380),c=Object(h.a)(i,2),s=c[0],u=c[1],d=Object(n.useState)(380),m=Object(h.a)(d,2),f=m[0],g=m[1],v=null,b=null,w=null,O=0,P=!1;Object(n.useEffect)((function(){u(window.innerWidth>0?window.innerWidth:380),g(window.innerHeight>0?.7*window.innerHeight:380)}),[]),Object(n.useEffect)((function(){if(C(O),a.current){var e=null;setInterval((function(){var t=s+"/"+f;e!==t&&(e=t,v=b=null,C(O))}),10)}}),[s,f]);var C=function(e){var t=Math.min(s,f)/2.25|0;if(P||null===v){v=[];for(var n=0;n<j.length;n++){var r=a.current;r.width=r.height=2*t+10;var i=r.getContext("2d"),c=5+t,u=5+t,d=i.createRadialGradient(c,u,0,c,u,t);d.addColorStop(0,"rgba(0,0,0,0)"),d.addColorStop(1,"rgba(0,0,0,0.5)");for(var h=0;h<j.length;h++){var m=2*Math.PI*h/j.length,g=m+2*Math.PI/(0==h?1:j.length),p=2*Math.PI*(h+.5)/j.length;i.beginPath(),i.moveTo(c,u),i.arc(c,u,t,m,g,!1),i.fillStyle=S[h%4],i.fill(),i.fillStyle=d,i.fill(),i.save(),h==w?(i.fillStyle="#FFF",i.shadowColor="#FFF",i.shadowBlur=t/20):(i.fillStyle="#AAA",i.shadowColor="#000",i.shadowBlur=t/100),i.font="bold "+t/j.length*.7+"px serif",i.textAlign="center",i.textBaseline="middle",i.translate(c,u),i.rotate(p),i.fillText(j[h],.62*t,0),i.restore()}v.push(r)}}if(null===b){(b=l.current).width=b.height=10+2*t*1.25|0;var E=b.getContext("2d"),O=b.width/2,A=b.height/2;E.shadowOffsetX=t/80,E.shadowOffsetY=t/80,E.shadowBlur=t/40,E.shadowColor="rgba(0,0,0,0.5)",E.beginPath(),E.arc(O,A,1.025*t,0,2*Math.PI,!0),E.arc(O,A,.975*t,0,2*Math.PI,!1),E.fillStyle="#444",E.fill(),E.shadowOffsetX=t/40,E.shadowOffsetY=t/40;var F=E.createRadialGradient(O-t/7,A-t/7,0,O,A,t/3);F.addColorStop(0,"#FFF"),F.addColorStop(.2,"#F44"),F.addColorStop(1,"#811"),E.fillStyle=F,E.beginPath(),E.arc(O,A,t/3.5,0,2*Math.PI,!1),E.fill(),E.translate(O,A),E.rotate(Math.PI-.2),E.beginPath(),E.moveTo(1.1*-t,.05*-t),E.lineTo(.9*-t,0),E.lineTo(1.1*-t,.05*t),E.fillStyle="#F44",E.fill()}o.current.width=s,o.current.height=f;var C=s/2,M=f/2,I=o.current.getContext("2d");(w=Math.floor((-.2-e)*j.length/(2*Math.PI))%j.length)<0&&(w+=j.length),I.save(),I.translate(C,M),I.rotate(e),I.translate(-v[w].width/2,-v[w].height/2),I.drawImage(v[w],0,0),I.restore(),I.drawImage(b,C-b.width/2,M-b.height/2)},M=function(e,t){return Math.floor(Math.random()*(t-e))+e};return r.a.createElement(p.a,{id:t},r.a.createElement("div",{className:"panel-well"},r.a.createElement("canvas",{ref:o,id:"canvas",width:"956",height:"754",className:"canvas"})),r.a.createElement(A.a,{align:"center"},r.a.createElement(E.a,{onClick:function(){if(!P){for(var t=function(){for(var e=[],t=0;t<F.length;t++)for(var a=0;a<F[t];a++)e.push(t);return e[M(0,e.length)]}(),a=360/j.length,n=360,r=0,l=360,o=j.length;o>0;o--)o===t+1&&(l=n-1),n-=a,o===t+1&&(r=n+1);!function(t,a){var n=performance.now(),r=O;requestAnimationFrame((function l(){var o=(performance.now()-n)/a;o>1&&(o=1),C(O=r+100*(t*o-.5*t*o*o)),o<1?requestAnimationFrame(l):(P=!1,e.setResult(j[w]),0===e.attempts?(e.setAttempts(1),e.setActivePanel("result")):1===e.attempts&&(e.setAttempts(2),e.sendResult(j[w])))})),P=!0}(.62432-34906e-8*M(r,l),5e3)}},disabled:P,align:"center"},"\u0412\u0440\u0430\u0449\u0430\u0442\u044c \u043a\u043e\u043b\u0435\u0441\u043e")),r.a.createElement("canvas",{hidden:!0,ref:a,id:"canvas",width:"956",height:"754"}),r.a.createElement("canvas",{hidden:!0,ref:l,id:"canvas",width:"956",height:"754"}))},C=(a(279),a(94),function(e){return r.a.createElement(p.a,{id:e.id},r.a.createElement("div",{className:"\u0421ongratulationFormSell"},r.a.createElement("div",{className:"\u0421ongratulation mx-auto"},r.a.createElement("h2",null," \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! "),r.a.createElement("p",null,"\u0412\u044b \u0432\u044b\u0433\u0440\u0430\u043b\u0438 ",e.result),r.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u0430\u0437"),r.a.createElement(E.a,{onClick:e.go,"data-to":"home",align:"left"},"\u0412\u0440\u0430\u0449\u0430\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,{onClick:function(){e.sendResult(e.result)},align:"right"},"\u0417\u0430\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0438\u0437"))))}),M=function(e){var t=(new Date).getHours(),a="\u0412\u0430\u0448 \u043f\u0440\u0438\u0437 ".concat(e.result,", \u043c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0412\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0435 30 \u043c\u0438\u043d\u0443\u0442"),n="\u0412\u0430\u0448 \u043f\u0440\u0438\u0437 ".concat(e.result,", \u043d\u0430\u0448 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441 \u0412\u0430\u043c\u0438 \u0437\u0430\u0432\u0442\u0440\u0430 \u0434\u043e 11:00");return r.a.createElement(p.a,{id:e.id,className:"\u0421ongratulationFormSell"},r.a.createElement("div",{className:"\u0421ongratulation mx-auto"},r.a.createElement("h2",null,t<9||t>21?n:a)))},I="a2d7546a9a8d0056331bbc2b99a3432dd9750aa3a0d3561de6b6482b0592015bb97e321ffa210f48a9ea8",y=function(){var e=Object(n.useState)("home"),t=Object(h.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(null),i=Object(h.a)(o,2),s=i[0],m=i[1],g=Object(n.useState)(r.a.createElement(v.a,{size:"large"})),b=Object(h.a)(g,2),p=(b[0],b[1]),w=Object(n.useState)(null),E=Object(h.a)(w,2),O=E[0],A=E[1],S=Object(n.useState)(0),j=Object(h.a)(S,2),F=j[0],y=j[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,m(t),p(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.a.subscribe((function(e){var t=e.detail,n=t.type,r=t.data;if("VKWebAppUpdateConfig"===n){var o=document.createAttribute("scheme");o.value=r.scheme?r.scheme:"client_light",document.body.attributes.setNamedItem(o)}"VKWebAppCallAPIMethodResult"===n&&"\u0421ongratulation"!==a&&l("\u0421ongratulation")})),function(){e.apply(this,arguments)}()}),[]);var x=function(e){l(e.currentTarget.dataset.to)},R=function(e){var t=new Date,a="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: https://vk.com/id".concat(s.id,", \u0438\u043c\u044f: ").concat(s.first_name,". \u0412\u0440\u0430\u0449\u0430\u043b \u043a\u043e\u043b\u0435\u0441\u043e:  ").concat(t.toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",timezone:"UTC",hour:"numeric",minute:"numeric",second:"numeric"}),". \u0412\u044b\u0433\u0440\u0430\u043b: ").concat(e),n=Math.floor(1e9+Math.random()*(9e9+1-1e9)),r=Math.floor(1e9+Math.random()*(9e9+1-1e9));c.a.send("VKWebAppCallAPIMethod",{method:"messages.send",request_id:"sendOrder",params:{user_id:"184750457",v:"5.102",random_id:n,peer_id:"-189092828",message:a,access_token:I}}),c.a.send("VKWebAppCallAPIMethod",{method:"messages.send",request_id:"sendOrder",params:{user_id:"1587067",v:"5.102",random_id:r,peer_id:"-189092828",message:a,access_token:I}})};return r.a.createElement(f.a,{activePanel:a},r.a.createElement(P,{id:"home",fetchedUser:s,go:x,setActivePanel:l,result:O,setResult:A,setAttempts:y,attempts:F,sendResult:R}),r.a.createElement(C,{id:"result",go:x,result:O,setActivePanel:l,sendResult:R}),r.a.createElement(M,{id:"\u0421ongratulation",go:x,result:O}))};c.a.send("VKWebAppInit"),o.a.render(r.a.createElement(y,null),document.getElementById("root"))},94:function(e,t,a){}},[[178,1,2]]]);
//# sourceMappingURL=main.6ed67609.chunk.js.map