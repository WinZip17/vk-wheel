(window["webpackJsonpvk-wheel"]=window["webpackJsonpvk-wheel"]||[]).push([[0],{180:function(e,t,a){e.exports=a(281)},259:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);a(181),a(207),a(209),a(210),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(221),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249);var n=a(0),l=a.n(n),r=a(65),o=a.n(r),i=a(38),c=a.n(i),s=a(67),u=a.n(s),h=a(97),d=a(19),f=a(99),m=a.n(f),g=a(98),v=a.n(g),b=(a(258),a(259),a(39)),w=a.n(b),p=a(43),E=a.n(p),O=a(66),j=a.n(O),S=["#F84","#8F4","#48F","#F8F"],F=["\u043e\u0434\u0438\u043d","\u0434\u0432\u0430","\u0442\u0440\u0438","\u0447\u0435\u0442\u044b\u0440\u0435","\u043f\u044f\u0442\u044c","\u0448\u0435\u0441\u0442\u044c","\u0441\u0435\u043c\u044c","\u0432\u043e\u0441\u0435\u043c\u044c","\u0434\u0435\u0432\u044f\u0442\u044c","\u0434\u0435\u0441\u044f\u0442\u044c"],P=[0,1,0,0,0,0,3,0,0,0],A=function(e){var t=e.id,a=(e.go,e.fetchedUser,Object(n.useRef)(null)),r=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(n.useState)(380),c=Object(d.a)(i,2),s=c[0],u=c[1],h=Object(n.useState)(380),f=Object(d.a)(h,2),m=f[0],g=f[1],v=null,b=null,p=null,O=0,A=!1;Object(n.useEffect)((function(){u(window.innerWidth>0?window.innerWidth:380),g(window.innerHeight>0?.7*window.innerHeight:380)}),[]),Object(n.useEffect)((function(){if(C(O),a.current){var e=null;setInterval((function(){var t=s+"/"+m;e!==t&&(e=t,v=b=null,C(O))}),10)}}),[s,m]);var C=function(e){var t=Math.min(s,m)/2.25|0;if(A||null===v){v=[];for(var n=0;n<F.length;n++){var l=a.current;l.width=l.height=2*t+10;var i=l.getContext("2d"),c=5+t,u=5+t,h=i.createRadialGradient(c,u,0,c,u,t);h.addColorStop(0,"rgba(0,0,0,0)"),h.addColorStop(1,"rgba(0,0,0,0.5)");for(var d=0;d<F.length;d++){var f=2*Math.PI*d/F.length,g=f+2*Math.PI/(0==d?1:F.length),w=2*Math.PI*(d+.5)/F.length;i.beginPath(),i.moveTo(c,u),i.arc(c,u,t,f,g,!1),i.fillStyle=S[d%4],i.fill(),i.fillStyle=h,i.fill(),i.save(),d==p?(i.fillStyle="#FFF",i.shadowColor="#FFF",i.shadowBlur=t/20):(i.fillStyle="#AAA",i.shadowColor="#000",i.shadowBlur=t/100),i.font="bold "+t/F.length*.7+"px serif",i.textAlign="center",i.textBaseline="middle",i.translate(c,u),i.rotate(w),i.fillText(F[d],.62*t,0),i.restore()}v.push(l)}}if(null===b){(b=r.current).width=b.height=10+2*t*1.25|0;var E=b.getContext("2d"),O=b.width/2,j=b.height/2;E.shadowOffsetX=t/80,E.shadowOffsetY=t/80,E.shadowBlur=t/40,E.shadowColor="rgba(0,0,0,0.5)",E.beginPath(),E.arc(O,j,1.025*t,0,2*Math.PI,!0),E.arc(O,j,.975*t,0,2*Math.PI,!1),E.fillStyle="#444",E.fill(),E.shadowOffsetX=t/40,E.shadowOffsetY=t/40;var P=E.createRadialGradient(O-t/7,j-t/7,0,O,j,t/3);P.addColorStop(0,"#FFF"),P.addColorStop(.2,"#F44"),P.addColorStop(1,"#811"),E.fillStyle=P,E.beginPath(),E.arc(O,j,t/3.5,0,2*Math.PI,!1),E.fill(),E.translate(O,j),E.rotate(Math.PI-.2),E.beginPath(),E.moveTo(1.1*-t,.05*-t),E.lineTo(.9*-t,0),E.lineTo(1.1*-t,.05*t),E.fillStyle="#F44",E.fill()}o.current.width=s,o.current.height=m;var C=s/2,I=m/2,x=o.current.getContext("2d");(p=Math.floor((-.2-e)*F.length/(2*Math.PI))%F.length)<0&&(p+=F.length),x.save(),x.translate(C,I),x.rotate(e),x.translate(-v[p].width/2,-v[p].height/2),x.drawImage(v[p],0,0),x.restore(),x.drawImage(b,C-b.width/2,I-b.height/2)},I=function(e,t){return Math.floor(Math.random()*(t-e))+e};return l.a.createElement(w.a,{id:t},l.a.createElement("div",null),l.a.createElement("canvas",{ref:o,id:"canvas",width:"956",height:"754"}),l.a.createElement(j.a,{align:"center"},l.a.createElement(E.a,{onClick:function(){if(!A){for(var t=function(){for(var e=[],t=0;t<P.length;t++)for(var a=0;a<P[t];a++)e.push(t);return e[I(0,e.length)]}(),a=360/F.length,n=360,l=0,r=360,o=F.length;o>0;o--)o===t+1&&(r=n-1),n-=a,o===t+1&&(l=n+1);console.log(t+1),function(t,a){var n=performance.now(),l=O;requestAnimationFrame((function r(){var o=(performance.now()-n)/a;o>1&&(o=1),C(O=l+100*(t*o-.5*t*o*o)),o<1?requestAnimationFrame(r):(A=!1,e.setResult(F[p]),0===e.attempts?(e.setAttempts(1),e.setActivePanel("result")):1===e.attempts&&(e.setAttempts(2),e.setActivePanel("\u0421ongratulation")))})),A=!0}(.62432-34906e-8*I(l,r),5e3)}},disabled:A,align:"center"},"\u0412\u0440\u0430\u0449\u0430\u0442\u044c \u043a\u043e\u043b\u0435\u0441\u043e")),l.a.createElement("canvas",{hidden:!0,ref:a,id:"canvas",width:"956",height:"754"}),l.a.createElement("canvas",{hidden:!0,ref:r,id:"canvas",width:"956",height:"754"}))},C=a(100),I=(a(270),a(272),a(95),function(e){var t=(new Date).getHours(),a="\u0412\u0430\u0448 \u043f\u0440\u0438\u0437 ".concat(e.result,", \u043c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0412\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0435 30 \u043c\u0438\u043d\u0443\u0442"),n="\u0412\u0430\u0448 \u043f\u0440\u0438\u0437 ".concat(e.result,", \u043d\u0430\u0448 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441 \u0412\u0430\u043c\u0438 \u0437\u0430\u0432\u0442\u0440\u0430 \u0434\u043e 11:00");return l.a.createElement(w.a,{id:e.id,className:"\u0421ongratulationFormSell"},l.a.createElement("div",{className:"\u0421ongratulation mx-auto"},l.a.createElement("h2",null,t<9||t>21?n:a)))}),x=(Object(C.a)(),function(e){return l.a.createElement(w.a,{id:e.id},l.a.createElement("div",{className:"\u0421ongratulationFormSell"},l.a.createElement("div",{className:"\u0421ongratulation mx-auto"},l.a.createElement("h2",null," \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! "),l.a.createElement("p",null,"\u0412\u044b \u0432\u044b\u0433\u0440\u0430\u043b\u0438 ",e.result),l.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u0430\u0437"),l.a.createElement(E.a,{onClick:e.go,"data-to":"home",align:"left"},"\u0412\u0440\u0430\u0449\u0430\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(E.a,{onClick:e.go,"data-to":"\u0421ongratulation",align:"right"},"\u0417\u0430\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0438\u0437"))))}),y=function(){var e=Object(n.useState)("home"),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),i=Object(d.a)(o,2),s=i[0],f=i[1],g=Object(n.useState)(l.a.createElement(v.a,{size:"large"})),b=Object(d.a)(g,2),w=(b[0],b[1]),p=Object(n.useState)(null),E=Object(d.a)(p,2),O=E[0],j=E[1],S=Object(n.useState)(0),F=Object(d.a)(S,2),P=F[0],C=F[1];Object(n.useEffect)((function(){function e(){return(e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,f(t),w(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var l=document.createAttribute("scheme");l.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(l)}})),function(){e.apply(this,arguments)}()}),[]);var y=function(e){r(e.currentTarget.dataset.to)};return l.a.createElement(m.a,{activePanel:a},l.a.createElement(A,{id:"home",fetchedUser:s,go:y,setActivePanel:r,result:O,setResult:j,setAttempts:C,attempts:P}),l.a.createElement(x,{id:"result",go:y,result:O}),l.a.createElement(I,{id:"\u0421ongratulation",go:y,result:O}))};c.a.send("VKWebAppInit"),o.a.render(l.a.createElement(y,null),document.getElementById("root"))},95:function(e,t,a){}},[[180,1,2]]]);
//# sourceMappingURL=main.30f65d2e.chunk.js.map