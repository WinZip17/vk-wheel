{"version":3,"sources":["img/persik.png","panels/Home.js","panels/Persik.js","App.js","index.js"],"names":["module","exports","colors","sections","Home","props","id","canvas","go","fetchedUser","useRef","canvas2","canvas3","useState","innerWidth","setInnerWidth","innerHeight","setInnerHeight","result","setResult","wheels","frame","selected","angle","running","useEffect","window","repaint","current","csz","setInterval","sz","r","Math","min","selected2","length","c","width","height","ctx","getContext","cx","cy","g","createRadialGradient","addColorStop","i","a0","PI","a1","a","beginPath","moveTo","arc","fillStyle","fill","save","shadowColor","shadowBlur","font","textAlign","textBaseline","translate","rotate","fillText","restore","push","ctx2","shadowOffsetX","shadowOffsetY","lineTo","ctx3","floor","console","log","drawImage","hidden","ref","size","level","onClick","speed","duration","start","performance","now","angle0","requestAnimationFrame","t","spin","random","osName","platform","Persik","left","data-to","IOS","className","src","persik","alt","App","activePanel","setActivePanel","setUser","setPopout","connect","sendPromise","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","send","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.40a88545.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","import React, {useRef, useEffect, useState, createContext, useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\n\n\n\nlet colors = [\"#F84\", \"#8F4\", \"#48F\", \"#F8F\"];\nlet sections = [\"один\", \"два\", \"три\", \"четыре\"];\n\n\nconst Home = (props) => {\n\tlet {id, go, fetchedUser} = props;\n\tconst canvas = useRef(null);\n\tconst canvas2 = useRef(null);\n\tconst canvas3 = useRef(null);\n\tlet [innerWidth, setInnerWidth] = useState(400)\n\tlet [innerHeight, setInnerHeight] = useState(400)\n\tlet [result, setResult] = useState(\"\")\n\tlet wheels = null;\n\tlet frame = null;\n\tlet selected = null;\n\tlet angle = 0, running = false;\n\n\n\tuseEffect(() => {\n\t\tsetInnerWidth(window.innerWidth)\n\t\tsetInnerHeight(window.innerHeight)\n\t}, []);\n\n\tuseEffect(() => {\n\t\trepaint(angle)\n\t\tif (canvas.current) {\n\t\t\tlet csz = null;\n\t\t\tsetInterval(function() {\n\t\t\t\tlet sz = innerWidth + \"/\" + innerHeight;\n\t\t\t\tif (csz !== sz) {\n\t\t\t\t\tcsz = sz;\n\t\t\t\t\twheels = frame = null;\n\t\t\t\t\trepaint(angle);\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t}\n\t}, [innerWidth, innerHeight]);\n\n\n\n\tconst repaint = (angle) => {\n\tlet r = Math.min(innerWidth, innerHeight) / 2.25 | 0;\n\tif (running || wheels === null) {\n\t\twheels = [];\n\t\tfor (let selected2=0; selected2<sections.length; selected2++) {\n\t\t\tlet c = canvas.current;\n\t\t\tc.width = c.height = 2*r + 10;\n\t\t\tlet ctx = c.getContext(\"2d\"), cx = 5 + r, cy = 5 + r;\n\t\t\t// let ctx = createContext(c), cx = 5 + r, cy = 5 + r;\n\t\t\tlet g = ctx.createRadialGradient(cx, cy, 0, cx, cy, r);\n\t\t\tg.addColorStop(0, \"rgba(0,0,0,0)\");\n\t\t\tg.addColorStop(1, \"rgba(0,0,0,0.5)\");\n\t\t\tfor (let i=0; i<sections.length; i++) {\n\t\t\t\tlet a0 = 2*Math.PI*i/sections.length;\n\t\t\t\tlet a1 = a0 + 2*Math.PI/(i == 0 ? 1 : sections.length);\n\t\t\t\tlet a = 2*Math.PI*(i+0.5)/sections.length;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(cx, cy);\n\t\t\t\tctx.arc(cx, cy, r, a0, a1, false);\n\t\t\t\tctx.fillStyle = colors[i % 4];\n\t\t\t\tctx.fill();\n\t\t\t\tctx.fillStyle = g;\n\t\t\t\tctx.fill();\n\t\t\t\tctx.save();\n\t\t\t\tif (i == selected) {\n\t\t\t\t\tctx.fillStyle = \"#FFF\";\n\t\t\t\t\tctx.shadowColor = \"#FFF\";\n\t\t\t\t\tctx.shadowBlur = r/20;\n\t\t\t\t} else {\n\t\t\t\t\tctx.fillStyle = \"#AAA\";\n\t\t\t\t\tctx.shadowColor = \"#000\";\n\t\t\t\t\tctx.shadowBlur = r/100;\n\t\t\t\t}\n\t\t\t\tctx.font = \"bold \" + r/sections.length*0.7 + \"px serif\";\n\t\t\t\tctx.textAlign = \"center\";\n\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\tctx.translate(cx, cy);\n\t\t\t\tctx.rotate(a);\n\t\t\t\tctx.fillText(sections[i], r*0.62, 0);\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t\twheels.push(c);\n\t\t}\n\t}\n\tif (frame === null) {\n\t\tframe = canvas2.current;\n\t\tframe.width = frame.height = 10 + 2*r*1.25 | 0;\n\t\tlet ctx2 = frame.getContext(\"2d\"), cx = frame.width/2, cy = frame.height/2;\n\t\t// let ctx2 = createContext(frame), cx = frame.width/2, cy = frame.height/2;\n\t\tctx2.shadowOffsetX = r/80;\n\t\tctx2.shadowOffsetY = r/80;\n\t\tctx2.shadowBlur = r/40;\n\t\tctx2.shadowColor = \"rgba(0,0,0,0.5)\";\n\t\tctx2.beginPath();\n\t\tctx2.arc(cx, cy, r*1.025, 0, 2*Math.PI, true);\n\t\tctx2.arc(cx, cy, r*0.975, 0, 2*Math.PI, false);\n\t\tctx2.fillStyle = \"#444\";\n\t\tctx2.fill();\n\t\tctx2.shadowOffsetX = r/40;\n\t\tctx2.shadowOffsetY = r/40;\n\t\tlet g = ctx2.createRadialGradient(cx-r/7, cy-r/7, 0, cx, cy, r/3);\n\t\tg.addColorStop(0, \"#FFF\");\n\t\tg.addColorStop(0.2, \"#F44\");\n\t\tg.addColorStop(1, \"#811\");\n\t\tctx2.fillStyle = g;\n\t\tctx2.beginPath();\n\t\tctx2.arc(cx, cy, r/3.5, 0, 2*Math.PI, false);\n\t\tctx2.fill();\n\t\tctx2.translate(cx, cy);\n\t\tctx2.rotate(Math.PI - 0.2);\n\t\tctx2.beginPath();\n\t\tctx2.moveTo(- r*1.1, - r*0.05);\n\t\tctx2.lineTo(- r*0.9, 0);\n\t\tctx2.lineTo(- r*1.1, r*0.05);\n\t\tctx2.fillStyle = \"#F44\";\n\t\tctx2.fill();\n\t}\n\t\tcanvas3.current.width = innerWidth;\n\t\tcanvas3.current.height = innerHeight;\n\tlet cx = innerWidth/2, cy = innerHeight/2;\n\tlet ctx3 = canvas3.current.getContext(\"2d\");\n\tselected = (Math.floor((- 0.2 - angle) * sections.length / (2*Math.PI))\n\t\t% sections.length);\n\tif (selected < 0) selected += sections.length;\n\tconsole.log(selected)\n\tctx3.save();\n\tctx3.translate(cx, cy);\n\tctx3.rotate(angle);\n\tctx3.translate(-wheels[selected].width/2, -wheels[selected].height/2);\n\tctx3.drawImage(wheels[selected], 0, 0);\n\tctx3.restore();\n\tctx3.drawImage(frame, cx - frame.width/2, cy - frame.height/2);\n\t}\n\n\n\tconst spin = (speed, duration) => {\n\t\tlet start = performance.now(), angle0 = angle;\n\t\tfunction frame() {\n\t\t\tlet now = performance.now();\n\t\t\tlet t = (now - start) / duration;\n\t\t\tif (t > 1) t = 1;\n\t\t\tangle = angle0 + (speed*t - 0.5*speed*t*t)*100;\n\t\t\trepaint(angle);\n\t\t\tif (t < 1) requestAnimationFrame(frame); else {\n\t\t\t\trunning = false\n\t\t\t\tsetResult(sections[selected])\n\t\t\t};\n\t\t}\n\t\trequestAnimationFrame(frame);\n\t\trunning = true;\n\t}\n\n\tconst run = () => {\n\t\tif (!running) {\n\t\t\tspin(0.5+Math.random()*0.125, 5000);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader>Вращать колесо</PanelHeader>\n\t\t\t<Group>\n\t\t\t\t<canvas hidden={true} ref={canvas} id=\"canvas\" width=\"956\" height=\"754\"></canvas>\n\t\t\t\t<canvas hidden={true} ref={canvas2} id=\"canvas\" width=\"956\" height=\"754\"></canvas>\n\t\t\t\t<canvas ref={canvas3} id=\"canvas\" width=\"956\" height=\"754\"></canvas>\n\t\t\t</Group>\n\n\n\t\t\t<Group>\n\t\t\t\t<Div>\n\t\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={run}>\n\t\t\t\t\t\tВращать колесо\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t\t<Div>\n\t\t\t\t\t{result}\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t</Panel>\n\t);\n}\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<HeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</HeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './app.css'\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tuseEffect(() => {\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await connect.sendPromise('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<View activePanel={activePanel}>\n\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t<Persik id='persik' go={go} />\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}